[general]
mode = "paper"
log_level = "info"

[database]
path = "data/evaluator.db"

[risk]
max_exposure_per_market_pct = 10.0     # max % of bankroll per market
max_exposure_per_wallet_pct = 5.0      # max % of bankroll per wallet-copy
max_daily_trades = 100                 # turnover cap
slippage_pct = 1.0                     # conservative slippage assumption
no_chase_adverse_move_pct = 5.0        # don't increase after 5% adverse
portfolio_stop_drawdown_pct = 15.0     # pause if drawdown > 15%
paper_bankroll_usdc = 10000.0
# Two-level risk: per-wallet
per_wallet_daily_loss_pct = 2.0
per_wallet_weekly_loss_pct = 5.0
per_wallet_max_drawdown_pct = 15.0
per_wallet_max_slippage_vs_edge = 1.0
# Two-level risk: portfolio
portfolio_daily_loss_pct = 3.0
portfolio_weekly_loss_pct = 8.0
max_concurrent_positions = 20

[market_scoring]
top_n_markets = 20
min_liquidity_usdc = 1000.0
min_daily_volume_usdc = 5000.0
min_daily_trades = 20
min_unique_traders = 10
max_days_to_expiry = 90
min_days_to_expiry = 1
refresh_interval_secs = 86400          # daily
weights_liquidity = 0.25
weights_volume = 0.25
weights_density = 0.20
weights_whale_concentration = 0.15
weights_time_to_expiry = 0.15

[wallet_discovery]
min_total_trades = 5                   # prune wallets with < N trades
max_wallets_per_market = 100
holders_per_market = 20                # Polymarket API caps at 20
refresh_interval_secs = 86400          # daily

[ingestion]
trades_poll_interval_secs = 3600       # hourly
activity_poll_interval_secs = 21600    # every 6 hours
positions_poll_interval_secs = 86400   # daily
holders_poll_interval_secs = 86400     # daily
rate_limit_delay_ms = 200              # between API calls
max_retries = 3
backoff_base_ms = 1000

[paper_trading]
strategies = ["mirror"]                # later: "delay", "consensus"
mirror_delay_secs = 0                  # 0 = immediate mirror
position_size_usdc = 100.0             # per-trade size
# Copy fidelity and risk
bankroll_usd = 1000.0
max_total_exposure_pct = 15.0
max_daily_loss_pct = 3.0
min_copy_fidelity_pct = 80.0
per_trade_size_usd = 25.0
slippage_default_cents = 1.0

[wallet_scoring]
windows_days = [7, 30, 90]
min_trades_for_score = 10
edge_weight = 0.30
consistency_weight = 0.25
market_skill_weight = 0.20
timing_skill_weight = 0.15
behavior_quality_weight = 0.10

[observability]
prometheus_port = 9094                 # different from trading bots (9091-9093)

[polymarket]
data_api_url = "https://data-api.polymarket.com"
gamma_api_url = "https://gamma-api.polymarket.com"

[personas]
# Stage 1 fast filters
stage1_min_wallet_age_days = 30
stage1_min_total_trades = 10
stage1_max_inactive_days = 30
# Informed Specialist
specialist_max_markets = 10
specialist_min_win_rate = 0.60
# Consistent Generalist
generalist_min_markets = 20
generalist_min_win_rate = 0.52
generalist_max_win_rate = 0.60
generalist_max_drawdown = 15.0
generalist_min_sharpe = 1.0
# Patient Accumulator
accumulator_min_hold_hours = 48.0
accumulator_max_trades_per_week = 5.0
# Execution Master (exclusion)
execution_master_pnl_ratio = 0.70
# Tail Risk Seller (exclusion)
tail_risk_min_win_rate = 0.80
tail_risk_loss_multiplier = 5.0
# Noise Trader (exclusion)
noise_max_trades_per_week = 50.0
noise_max_abs_roi = 0.02
# Sniper/Insider (exclusion)
sniper_max_age_days = 30
sniper_min_win_rate = 0.85
sniper_max_trades = 20
# Trust multipliers
trust_30_90_multiplier = 0.8
obscurity_bonus_multiplier = 1.2

[anomaly]
win_rate_drop_pct = 15.0
max_weekly_drawdown_pct = 20.0
frequency_change_multiplier = 3.0
size_change_multiplier = 10.0

[web]
port = 8080
host = "127.0.0.1"
auth_password = "recognize-parade-finalist-flatbed-stumble"
